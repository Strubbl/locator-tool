<div class="card">
  <div class="card-body p-2">
    <div>
      <label ng-click="$ctrl.collapseCameraLocation = !$ctrl.collapseCameraLocation">
        <span class="text-secondary" ng-hide="$ctrl.collapseCameraLocation">▼</span>
        <span class="text-secondary" ng-show="$ctrl.collapseCameraLocation">▶</span>
        <svg class="octicon">
          <use xlink:href="#device-camera"></use>
        </svg>
        <!-- prettier-ignore -->
        <span translate="translate">
          Camera location via
<a href="https://commons.wikimedia.org/wiki/Template:Location" target="_blank"><code class="mediawiki-template">Location</code></a></span>
        <abbr
          ng-hide="$ctrl.collapseCameraLocation"
          title="{{'Left click on map to set the location.' | translate}}"
        >
          <svg class="octicon"><use xlink:href="#question"></use></svg>
        </abbr>
      </label>
      <div ng-hide="$ctrl.collapseCameraLocation">
        <lt-location-input
          lat-lng="$ctrl.file.coordinates"
          edit-location="$ctrl.editLocation($ctrl.file.coordinates)"
        ></lt-location-input>
      </div>
    </div>
  </div>
</div>

<div class="card mt-2">
  <div class="card-body p-2">
    <div>
      <label ng-click="$ctrl.collapseObjectLocation = !$ctrl.collapseObjectLocation">
        <span class="text-secondary" ng-hide="$ctrl.collapseObjectLocation">▼</span>
        <span class="text-secondary" ng-show="$ctrl.collapseObjectLocation">▶</span>
        <svg class="octicon">
          <use xlink:href="#squirrel"></use>
        </svg>
        <!-- prettier-ignore -->
        <span translate="translate">
          Object location via
<a href="https://commons.wikimedia.org/wiki/Template:Object_location" target="_blank"><code class="mediawiki-template">Object location</code></a></span>
        <abbr
          ng-hide="$ctrl.collapseObjectLocation"
          title="{{'Press shift and click on map to set the object location.' | translate}}"
        >
          <svg class="octicon"><use xlink:href="#question"></use></svg>
        </abbr>
      </label>
      <div ng-hide="$ctrl.collapseObjectLocation">
        <lt-location-input
          lat-lng="$ctrl.file.objectLocation"
          edit-location="$ctrl.editLocation($ctrl.file.objectLocation)"
        ></lt-location-input>
      </div>
    </div>
  </div>
</div>

<div class="alert alert-danger mt-2" ng-if="$ctrl.error">
  <svg class="octicon">
    <use xlink:href="#alert"></use>
  </svg>
  <span translate="translate">Failed to save: {{$ctrl.error.statusText}}</span>
</div>

<div class="card mt-2">
  <h5 class="card-header p-2">
    <strong>{{$ctrl.file.file}}</strong>
    <small ng-if="$ctrl.file.url">
      <a href="{{$ctrl.file.url}}" target="_blank">
        <svg class="octicon">
          <use xlink:href="#link-external"></use>
        </svg>
      </a>
    </small>
  </h5>
  <lt-file-metadata class="card-body p-2" file="$ctrl.file"></lt-file-metadata>
</div>
