{"version":3,"file":"DadgABpvQcQp3i1OjiC.js","sources":["../../node_modules/deepmerge/dist/cjs.js","../../node_modules/wikimedia-commons-file-path/build/wikimedia-commons-file-path.module.js","../../app/model/LatLng.ts","../../app/model/index.ts","../../app/api/ltData.ts"],"sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","var n,t,e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},r=(n=function(n){!function(t){function e(n,t){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}function r(n,t,r,o,u,f){return e((i=e(e(t,n),e(o,f)))<<(c=u)|i>>>32-c,r);var i,c}function o(n,t,e,o,u,f,i){return r(t&e|~t&o,n,t,u,f,i)}function u(n,t,e,o,u,f,i){return r(t&o|e&~o,n,t,u,f,i)}function f(n,t,e,o,u,f,i){return r(t^e^o,n,t,u,f,i)}function i(n,t,e,o,u,f,i){return r(e^(t|~o),n,t,u,f,i)}function c(n,t){var r,c,a,l,d;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var h=1732584193,g=-271733879,p=-1732584194,s=271733878;for(r=0;r<n.length;r+=16)c=h,a=g,l=p,d=s,h=o(h,g,p,s,n[r],7,-680876936),s=o(s,h,g,p,n[r+1],12,-389564586),p=o(p,s,h,g,n[r+2],17,606105819),g=o(g,p,s,h,n[r+3],22,-1044525330),h=o(h,g,p,s,n[r+4],7,-176418897),s=o(s,h,g,p,n[r+5],12,1200080426),p=o(p,s,h,g,n[r+6],17,-1473231341),g=o(g,p,s,h,n[r+7],22,-45705983),h=o(h,g,p,s,n[r+8],7,1770035416),s=o(s,h,g,p,n[r+9],12,-1958414417),p=o(p,s,h,g,n[r+10],17,-42063),g=o(g,p,s,h,n[r+11],22,-1990404162),h=o(h,g,p,s,n[r+12],7,1804603682),s=o(s,h,g,p,n[r+13],12,-40341101),p=o(p,s,h,g,n[r+14],17,-1502002290),h=u(h,g=o(g,p,s,h,n[r+15],22,1236535329),p,s,n[r+1],5,-165796510),s=u(s,h,g,p,n[r+6],9,-1069501632),p=u(p,s,h,g,n[r+11],14,643717713),g=u(g,p,s,h,n[r],20,-373897302),h=u(h,g,p,s,n[r+5],5,-701558691),s=u(s,h,g,p,n[r+10],9,38016083),p=u(p,s,h,g,n[r+15],14,-660478335),g=u(g,p,s,h,n[r+4],20,-405537848),h=u(h,g,p,s,n[r+9],5,568446438),s=u(s,h,g,p,n[r+14],9,-1019803690),p=u(p,s,h,g,n[r+3],14,-187363961),g=u(g,p,s,h,n[r+8],20,1163531501),h=u(h,g,p,s,n[r+13],5,-1444681467),s=u(s,h,g,p,n[r+2],9,-51403784),p=u(p,s,h,g,n[r+7],14,1735328473),h=f(h,g=u(g,p,s,h,n[r+12],20,-1926607734),p,s,n[r+5],4,-378558),s=f(s,h,g,p,n[r+8],11,-2022574463),p=f(p,s,h,g,n[r+11],16,1839030562),g=f(g,p,s,h,n[r+14],23,-35309556),h=f(h,g,p,s,n[r+1],4,-1530992060),s=f(s,h,g,p,n[r+4],11,1272893353),p=f(p,s,h,g,n[r+7],16,-155497632),g=f(g,p,s,h,n[r+10],23,-1094730640),h=f(h,g,p,s,n[r+13],4,681279174),s=f(s,h,g,p,n[r],11,-358537222),p=f(p,s,h,g,n[r+3],16,-722521979),g=f(g,p,s,h,n[r+6],23,76029189),h=f(h,g,p,s,n[r+9],4,-640364487),s=f(s,h,g,p,n[r+12],11,-421815835),p=f(p,s,h,g,n[r+15],16,530742520),h=i(h,g=f(g,p,s,h,n[r+2],23,-995338651),p,s,n[r],6,-198630844),s=i(s,h,g,p,n[r+7],10,1126891415),p=i(p,s,h,g,n[r+14],15,-1416354905),g=i(g,p,s,h,n[r+5],21,-57434055),h=i(h,g,p,s,n[r+12],6,1700485571),s=i(s,h,g,p,n[r+3],10,-1894986606),p=i(p,s,h,g,n[r+10],15,-1051523),g=i(g,p,s,h,n[r+1],21,-2054922799),h=i(h,g,p,s,n[r+8],6,1873313359),s=i(s,h,g,p,n[r+15],10,-30611744),p=i(p,s,h,g,n[r+6],15,-1560198380),g=i(g,p,s,h,n[r+13],21,1309151649),h=i(h,g,p,s,n[r+4],6,-145523070),s=i(s,h,g,p,n[r+11],10,-1120210379),p=i(p,s,h,g,n[r+2],15,718787259),g=i(g,p,s,h,n[r+9],21,-343485551),h=e(h,c),g=e(g,a),p=e(p,l),s=e(s,d);return[h,g,p,s]}function a(n){var t,e=\"\",r=32*n.length;for(t=0;t<r;t+=8)e+=String.fromCharCode(n[t>>5]>>>t%32&255);return e}function l(n){var t,e=[];for(e[(n.length>>2)-1]=void 0,t=0;t<e.length;t+=1)e[t]=0;var r=8*n.length;for(t=0;t<r;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return e}function d(n){var t,e,r=\"0123456789abcdef\",o=\"\";for(e=0;e<n.length;e+=1)t=n.charCodeAt(e),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function h(n){return unescape(encodeURIComponent(n))}function g(n){return function(n){return a(c(l(n),8*n.length))}(h(n))}function p(n,t){return function(n,t){var e,r,o=l(n),u=[],f=[];for(u[15]=f[15]=void 0,o.length>16&&(o=c(o,8*n.length)),e=0;e<16;e+=1)u[e]=909522486^o[e],f[e]=1549556828^o[e];return r=c(u.concat(l(t)),512+8*t.length),a(c(f.concat(r),640))}(h(n),h(t))}function s(n,t,e){return t?e?p(t,n):d(p(t,n)):e?g(n):d(g(n))}n.exports?n.exports=s:t.md5=s}(e)},n(t={exports:{}}),t.exports);function o(n,t){n=n.replace(/^File:/,\"\").replace(/\\s+/g,\"_\");var e=encodeURIComponent(n),o=\"https://upload.wikimedia.org/wikipedia/commons\",u=r(n),f=u[0]+\"/\"+u[0]+u[1];return t?o+\"/thumb/\"+f+\"/\"+e+\"/\"+t+\"px-\"+e+(n.match(/tiff?$/i)?\".jpg\":n.match(/svg$/i)?\".png\":\"\"):o+\"/\"+f+\"/\"+e}export{o as default};\n//# sourceMappingURL=wikimedia-commons-file-path.module.js.map\n","export class LatLng {\n  constructor(\n    public type: 'Location' | 'Object location',\n    public lat: number | undefined,\n    public lng: number | undefined,\n    private readonly latOriginal?: number | undefined,\n    private readonly lngOriginal?: number | undefined\n  ) {\n    if (arguments.length === 3) {\n      // cannot use fallback value in constructor (latOriginal=lat) since latOriginal may need to be undefined\n      this.latOriginal = lat;\n      this.lngOriginal = lng;\n    }\n  }\n\n  withLatLng(lat: number | undefined, lng: number | undefined): LatLng {\n    return new LatLng(this.type, lat, lng, this.latOriginal, this.lngOriginal);\n  }\n\n  roundToPrecision(): LatLng {\n    return new LatLng(\n      this.type,\n      roundToPrecision(this.lat),\n      roundToPrecision(this.lng),\n      this.latOriginal,\n      this.lngOriginal\n    );\n  }\n\n  rollback(): LatLng {\n    return new LatLng(this.type, this.latOriginal, this.lngOriginal);\n  }\n\n  commit(): LatLng {\n    return new LatLng(this.type, this.lat, this.lng, this.lat, this.lng);\n  }\n\n  get isDefined(): boolean {\n    return this.lat !== undefined && this.lng !== undefined;\n  }\n\n  get isChanged(): boolean {\n    return this.lat !== this.latOriginal || this.lng !== this.lngOriginal;\n  }\n\n  get isDefinedAndSaved(): boolean {\n    return this.isDefined && !this.isChanged;\n  }\n\n  get csv(): string {\n    return this.lat !== undefined && this.lng !== undefined\n      ? [this.lat, this.lng].map(atLeastOneDecimalPlace).join(', ')\n      : '';\n  }\n}\n\nfunction atLeastOneDecimalPlace(value: number) {\n  return value % 1 === 0 ? value.toFixed(1) : value;\n}\n\nfunction roundToPrecision(value: number | undefined, fractionDigits = 5): number | undefined {\n  return typeof value === 'number' ? +value.toFixed(fractionDigits) : value;\n}\n","import {LatLng} from './LatLng';\n\nexport {LatLng} from './LatLng';\n\nexport interface CommonsFile {\n  pageid: number;\n  file: string;\n  url: string;\n  coordinates: LatLng;\n  objectLocation: LatLng;\n\n  imageUrl(width?: number): string;\n}\n\nexport type CommonsTitle = string;\n\nexport type User = string;\n\nexport const WikidataProperty = {\n  // coordinate location (P625)\n  '*': 'P625',\n  // coordinates of the point of view (P1259)\n  Location: 'P1259',\n  // coordinates of depicted place (P9149)\n  'Object location': 'P9149'\n};\n","import deepmerge from 'deepmerge';\nimport getFilePath from 'wikimedia-commons-file-path';\n\nimport {CommonsFile, CommonsTitle, LatLng, WikidataProperty} from '../model';\nimport {MediaInfo, Statement} from '../model/mediainfo.ts';\n\nexport const API_URL = 'https://commons.wikimedia.org/w/api.php';\nconst NS_FILE = 6;\nconst NS_CATEGORY = 14;\nconst maxTitlesPerRequest = 50;\n\ninterface ApiResponse<P = never> {\n  continue: {[key: string]: string} | undefined;\n  batchcomplete: string;\n  query: {\n    pages: {[key: string]: P};\n    categorymembers?: P[];\n    allpages?: P[];\n    allusers?: P[];\n  };\n}\n\ninterface Page {\n  pageid: number;\n  ns: number;\n  title: string;\n}\n\ninterface User {\n  userid: number;\n  name: string;\n}\n\ninterface CoordinatePage {\n  pageid: number;\n  ns: number;\n  title: string;\n  coordinates?: Coordinate[];\n}\n\ninterface Coordinate {\n  lat: number;\n  lon: number;\n  primary?: string;\n  type: 'camera' | 'object';\n}\n\ninterface DetailsPage {\n  pageid: number;\n  ns: number;\n  title: string;\n  categories?: Category[];\n  imagerepository: string;\n  imageinfo: ImageInfo[];\n  revisions?: Revision[];\n}\n\ninterface Category {\n  ns: number;\n  title: string;\n}\n\ninterface ImageInfo {\n  url: string;\n  descriptionurl: string;\n  descriptionshorturl: string;\n  extmetadata: ExtMetadata;\n}\n\ninterface ExtMetadata {\n  ImageDescription: Artist;\n  DateTimeOriginal: Artist;\n  Artist: Artist;\n}\n\ninterface Artist {\n  value: string;\n  source: string;\n}\n\ninterface Revision {\n  slots: Slots;\n}\n\nexport interface Slots {\n  main: MainSlot;\n  mediainfo: MainSlot;\n}\n\nexport interface MainSlot {\n  contentformat: string;\n  contentmodel: string;\n  '*': string;\n}\n\nexport async function getCoordinates(titles: string | CommonsTitle[]): Promise<CommonsFile[]> {\n  if (typeof titles === 'string') {\n    titles = titles.split('|');\n  }\n  if (titles.length > maxTitlesPerRequest) {\n    return getCoordinatesChunkByChunk(titles);\n  }\n  const params = {\n    prop: 'coordinates',\n    colimit: 500,\n    coprop: 'type|name',\n    coprimary: 'all',\n    titles: titles.join('|').replace(/_/g, ' ')\n  };\n  const data = await $query<ApiResponse<CoordinatePage>>(params);\n  const pages = data?.query?.pages || {};\n  return Object.entries(pages).map(([pageid, page]) => {\n    return {\n      pageid: parseInt(pageid),\n      file: page.title,\n      url: `https://commons.wikimedia.org/wiki/${page.title}`,\n      imageUrl(width?: number) {\n        return getFilePath(this.file, width);\n      },\n      coordinates: new LatLng(\n        'Location',\n        ...toLatLng(page.coordinates?.find(c => c.primary === '' && c.type === 'camera'))\n      ),\n      objectLocation: new LatLng(\n        'Object location',\n        ...toLatLng(page.coordinates?.find(c => c.type === 'object'))\n      )\n    } as CommonsFile;\n  });\n\n  function toLatLng(c: Coordinate | undefined): [number?, number?] {\n    return typeof c === 'object' ? [c.lat, c.lon] : [undefined, undefined];\n  }\n}\n\nexport async function getCoordinatesChunkByChunk(titles: CommonsTitle[]): Promise<CommonsFile[]> {\n  const t = [...titles];\n  const requests: CommonsTitle[][] = [];\n  while (t.length) {\n    requests.push(t.splice(0, Math.min(maxTitlesPerRequest, t.length)));\n  }\n  const coordinatesPromises = requests.map(x => getCoordinates(x));\n  const x = await Promise.all(coordinatesPromises);\n  return x.flat();\n}\n\nexport interface FileDetails {\n  categories: string[];\n  description: string;\n  author: string;\n  timestamp: string;\n  url?: string;\n  coordinates?: LatLng;\n  objectLocation?: LatLng;\n}\n\nexport async function getFileDetails(\n  pageid: number,\n  prop = 'categories|imageinfo|revisions|wbentityusage',\n  iiprop = 'url|extmetadata'\n): Promise<FileDetails> {\n  const params = {\n    prop,\n    pageids: pageid,\n    iiprop,\n    iiextmetadatafilter: 'ImageDescription|Artist|DateTimeOriginal',\n    iiextmetadatalanguage: document.body.parentElement!.lang,\n    ...(prop.includes('categories') ? {clshow: '!hidden'} : {}),\n    ...(prop.includes('revisions') ? {rvslots: '*', rvprop: 'content'} : {})\n  };\n  const data = await $query<ApiResponse<DetailsPage>>(params);\n  const page: DetailsPage | undefined = data?.query?.pages?.[pageid];\n  const categories = (page?.categories || []).map(category =>\n    category.title.replace(/^Category:/, '')\n  );\n  const extmetadata = page?.imageinfo[0]?.extmetadata;\n  return {\n    categories,\n    description: extmetadata?.ImageDescription?.value,\n    author: extmetadata?.Artist?.value,\n    timestamp: extmetadata?.DateTimeOriginal?.value,\n    ...(iiprop.includes('url') ? {url: page?.imageinfo[0]?.descriptionurl} : {}),\n    objectLocation: extractObjectLocation(page),\n    ...extractMediaInfo(page)\n  };\n\n  function extractMediaInfo(page: DetailsPage): Partial<FileDetails> {\n    const json = page?.revisions?.[0]?.slots?.mediainfo['*'];\n    if (!json) return {};\n    const mediainfo: MediaInfo = JSON.parse(json);\n    const coordinates = extractMediaInfoLocation(\n      'Location',\n      mediainfo.statements[WikidataProperty['Location']]?.[0]\n    );\n    const objectLocation = extractMediaInfoLocation(\n      'Object location',\n      mediainfo.statements[WikidataProperty['Object location']]?.[0]\n    );\n    return {\n      ...(coordinates ? {coordinates} : {}),\n      ...(objectLocation ? {objectLocation} : {})\n    };\n  }\n\n  function extractMediaInfoLocation(\n    type: LatLng['type'],\n    statement: Statement | undefined\n  ): LatLng | undefined {\n    if (statement?.mainsnak.datavalue?.type !== 'globecoordinate') {\n      return;\n    }\n    return new LatLng(\n      type,\n      statement?.mainsnak.datavalue.value.latitude,\n      statement?.mainsnak.datavalue.value.longitude\n    );\n  }\n\n  function extractObjectLocation(page: DetailsPage) {\n    try {\n      const wikitext: string = page?.revisions?.[0]?.slots?.main['*'] || '';\n      const locDeg = wikitext.match(\n        /\\{\\{Object location( dec)?\\|([0-9]+)\\|([0-9]+)\\|([0-9.]+)\\|([NS])\\|([0-9]+)\\|([0-9]+)\\|([0-9.]+)\\|([WE])/i\n      );\n      const loc = wikitext.match(/\\{\\{Object location( dec)?\\s*\\|\\s*([0-9.]+)\\s*\\|\\s*([0-9.]+)/i);\n      let lat;\n      let lng;\n      if (locDeg) {\n        lat = parseInt(locDeg[2]) + parseInt(locDeg[3]) / 60 + parseFloat(locDeg[4]) / 3600;\n        lat *= locDeg[5] === 'N' ? 1 : -1;\n        lng = parseInt(locDeg[6]) + parseInt(locDeg[7]) / 60 + parseFloat(locDeg[8]) / 3600;\n        lng *= locDeg[9] === 'E' ? 1 : -1;\n      } else if (loc) {\n        lat = parseFloat(loc[2]);\n        lng = parseFloat(loc[3]);\n      }\n      return new LatLng('Object location', lat, lng);\n    } catch (e) {\n      return new LatLng('Object location', undefined, undefined);\n    }\n  }\n}\n\nexport async function getCategoriesForPrefix(prefix: string): Promise<CommonsTitle[]> {\n  const params = {\n    list: 'allpages',\n    apnamespace: NS_CATEGORY,\n    aplimit: 30,\n    apfrom: prefix,\n    apprefix: prefix\n  };\n  const data = await $query<ApiResponse<Page>>(params, {}, undefined, () => false);\n  return (data.query.allpages || []).map(i => i.title.replace(/^Category:/, '' as CommonsTitle));\n}\n\nexport async function getUsersForPrefix(prefix: string): Promise<string[]> {\n  const params = {\n    list: 'allusers',\n    aulimit: 30,\n    aufrom: prefix,\n    apuprefix: prefix\n  };\n  const data = await $query<ApiResponse<User>>(params, {}, undefined, () => false);\n  return (data.query.allusers || []).map(i => i.name);\n}\n\nexport async function getFiles({\n  files,\n  user,\n  userLimit,\n  userStart,\n  userEnd,\n  category,\n  categoryDepth\n}: {\n  files: CommonsTitle | CommonsTitle[];\n  user: string;\n  userLimit: string | number | undefined;\n  userStart: string | undefined;\n  userEnd: string | undefined;\n  category: string;\n  categoryDepth: string | number | undefined;\n}): Promise<CommonsTitle[]> {\n  if (typeof files === 'string') {\n    files = files.split('|');\n  }\n  if (files) {\n    return files.map(file => (file.startsWith('File:') ? file : `File:${file}`));\n  } else if (user) {\n    userLimit = typeof userLimit === 'string' ? +userLimit : userLimit;\n    return getFilesForUser(user, userLimit, userStart, userEnd);\n  } else if (category) {\n    categoryDepth = typeof categoryDepth === 'string' ? +categoryDepth : categoryDepth;\n    return getFilesForCategory(category, categoryDepth);\n  } else {\n    throw new Error();\n  }\n}\n\nfunction removeCommonsPrefix(string: string, prefix: string): string {\n  const urlPrefix = 'https://commons.wikimedia.org/wiki/';\n  if (string.startsWith(urlPrefix)) {\n    string = string.slice(urlPrefix.length);\n    string = decodeURI(string);\n  }\n  if (string.startsWith(prefix)) {\n    string = string.slice(prefix.length);\n  }\n  return string;\n}\n\nexport async function getFilesForUser(\n  user: string,\n  userLimit: number | undefined,\n  userStart: string | undefined,\n  userEnd: string | undefined\n): Promise<CommonsTitle[]> {\n  user = removeCommonsPrefix(user, 'User:');\n  // https://commons.wikimedia.org/w/api.php?action=help&modules=query%2Ballimages\n  const params = {\n    generator: 'allimages',\n    gaiuser: user,\n    gailimit: typeof userLimit === 'number' && userLimit <= 500 ? userLimit : 'max',\n    gaistart: userEnd ? new Date(userEnd).toISOString() : undefined, // sic! (due to gaidir)\n    gaiend: userStart ? new Date(userStart).toISOString() : undefined, // sic! (due to gaidir)\n    gaisort: 'timestamp',\n    gaidir: 'older'\n  };\n  const toPageArray = (data: ApiResponse<Page>): Page[] => Object.values(data.query.pages);\n  const shouldContinue = (data: ApiResponse<Page>): boolean =>\n    data.continue ? !userLimit || toPageArray(data).length < userLimit : false;\n  const data = await $query<ApiResponse<Page>>(params, {}, undefined, shouldContinue);\n  const pages = toPageArray(data).map(page => page.title as CommonsTitle);\n  return userLimit ? pages.slice(0, userLimit) : pages;\n}\n\nexport async function getFilesForCategory(cat: string, depth = 3): Promise<CommonsTitle[]> {\n  cat = removeCommonsPrefix(cat, 'Category:');\n  const abort = new AbortController();\n  const requests = [\n    getFilesForCategory1(cat, depth, abort.signal),\n    getFilesForCategory2(cat, depth, abort.signal),\n    getFilesForCategory3(cat, depth, abort.signal)\n  ];\n  if (depth <= 0) {\n    requests.unshift(getFilesForCategory0(cat, abort.signal));\n  }\n  try {\n    return await successRace(requests);\n  } finally {\n    abort.abort();\n  }\n}\n\nexport async function getFilesForCategory0(\n  cat: string,\n  signal?: AbortSignal\n): Promise<CommonsTitle[]> {\n  const params = {\n    list: 'categorymembers',\n    cmlimit: 500,\n    cmnamespace: NS_FILE,\n    cmtitle: 'Category:' + cat\n  };\n  const data = await $query<ApiResponse<Page>>(params, {}, signal);\n  return (data.query.categorymembers || []).map(cm => cm.title);\n}\n\nexport async function getFilesForCategory1(\n  cat: string,\n  depth: number,\n  signal?: AbortSignal\n): Promise<CommonsTitle[]> {\n  const params = {\n    lang: 'commons',\n    cat: cat.replace(/^Category:/, ''),\n    type: NS_FILE,\n    depth,\n    json: 1\n  };\n  const url = 'https://cats-php.toolforge.org/?' + toSearchParams(params);\n  const data = await fetchJSON<CommonsTitle[]>(url, {signal});\n  return data.map(f => `File:${f}`);\n}\n\nexport async function getFilesForCategory2(\n  cat: string,\n  depth: number,\n  signal?: AbortSignal\n): Promise<CommonsTitle[]> {\n  const params = {\n    category: cat.replace(/^Category:/, ''),\n    ns: NS_FILE,\n    depth\n  };\n  const url = '/catscan?' + toSearchParams(params);\n  const data = await fetchJSON<{pages: CommonsTitle[]}>(url, {signal});\n  return data.pages.map(f => `File:${f}`);\n}\n\nexport async function getFilesForCategory3(\n  categories: string,\n  depth: number,\n  signal?: AbortSignal\n): Promise<CommonsTitle[]> {\n  const params = {\n    language: 'commons',\n    project: 'wikimedia',\n    depth,\n    categories,\n    [`ns[${NS_FILE}]`]: 1,\n    format: 'json',\n    sparse: 1,\n    doit: 1\n  };\n  const url = 'https://petscan.wmcloud.org/?' + toSearchParams(params);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const data = await fetchJSON<any>(url, {signal});\n  return data['*'][0]['a']['*'] as CommonsTitle[];\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function $query<T extends ApiResponse<any>>(\n  query: Record<string, unknown>,\n  previousResults = {},\n  signal?: AbortSignal,\n  shouldContinue = (data: T) => !!data.continue\n): Promise<T> {\n  const params = {\n    action: 'query',\n    format: 'json',\n    origin: '*',\n    ...query\n  };\n  const url = API_URL + '?' + toSearchParams(params);\n  let data = await fetchJSON<T>(url, {\n    signal\n  });\n  data = deepmerge(previousResults, data, {arrayMerge: (x, y) => [].concat(...x, ...y)}) as T;\n  if (shouldContinue(data)) {\n    return $query<T>(\n      {...query, continue: undefined, ...data.continue},\n      {...data, continue: undefined},\n      signal,\n      shouldContinue\n    );\n  }\n  return data;\n}\n\nfunction toSearchParams(query: Record<string, unknown>): URLSearchParams {\n  const searchParams = new URLSearchParams();\n  Object.entries(query).forEach(\n    ([key, value]) => value === undefined || searchParams.append(key, String(value))\n  );\n  return searchParams;\n}\n\nfunction successRace<T>(promises: Promise<T>[]): Promise<T> {\n  promises = promises.filter(p => !!p);\n  return new Promise<T>((resolve, reject) => {\n    // resolve first successful one\n    promises.forEach(promise => promise.then(resolve));\n    // reject when all fail\n    Promise.allSettled(promises).catch(reject);\n  });\n}\n\nasync function fetchJSON<T>(url: RequestInfo, options?: RequestInit): Promise<T> {\n  console.log('Fetching', url);\n  const res = await fetch(url, {\n    cache: 'no-cache',\n    headers: {Accept: 'application/json'},\n    ...options\n  });\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(res.statusText);\n  }\n}\n"],"names":["isMergeableObject","value","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","val","cloneUnlessOtherwiseSpecified","options","deepmerge","defaultArrayMerge","target","source","element","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","prev","next","deepmerge_1","cjs","n","t","e","r","o","u","f","i","c","a","l","d","h","g","p","s","LatLng","type","lat","lng","latOriginal","lngOriginal","roundToPrecision","atLeastOneDecimalPlace","fractionDigits","WikidataProperty","API_URL","NS_FILE","NS_CATEGORY","maxTitlesPerRequest","getCoordinates","titles","getCoordinatesChunkByChunk","params","data","$query","pages","_a","pageid","page","width","getFilePath","toLatLng","_b","requests","coordinatesPromises","x","getFileDetails","prop","iiprop","categories","category","extmetadata","_c","_d","_e","_f","_g","extractObjectLocation","extractMediaInfo","json","mediainfo","coordinates","extractMediaInfoLocation","objectLocation","statement","wikitext","locDeg","loc","getCategoriesForPrefix","prefix","getUsersForPrefix","getFiles","files","user","userLimit","userStart","userEnd","categoryDepth","file","getFilesForUser","getFilesForCategory","removeCommonsPrefix","string","urlPrefix","toPageArray","cat","depth","abort","getFilesForCategory1","getFilesForCategory2","getFilesForCategory3","getFilesForCategory0","successRace","signal","cm","url","toSearchParams","fetchJSON","query","previousResults","shouldContinue","y","searchParams","promises","resolve","reject","promise","res"],"mappings":"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","x_google_ignoreList":[0,1]}